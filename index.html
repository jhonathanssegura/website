<!DOCTYPE html>
<html class="no-js" data-theme="dark">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Portafolio - Jhonathan</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css">
        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/estilos.css"> 
        <link rel="stylesheet" href="css/form.css">
        <link rel="stylesheet" href="css/theme.css">
        <style>
            .text-center { text-align: center; }
        </style>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.1.min.js"><\/script>')</script>
        <script src="js/vendor/jquery.hashchange.min.js"></script>
        <script src="js/vendor/jquery.easytabs.min.js"></script>
        <script src="js/main.js"></script>
    </head>
    <body class="bg-fixed bg-1">
        <div id="particles-js"></div>
        <div class="main-container">
            <div class="main wrapper clearfix">
                <!-- Header Start -->
                <header id="header">
                    <div id="logo">
                        <h3 class="header-title">
                            <i class="fa fa-user-circle"></i>
                            Jhonathan Segura
                        </h3>
                        <h4 class="header-subtitle">
                            <i class="fa fa-code"></i>
                            Senior Software Engineer
                        </h4>
                        <div class="header-divider"></div>
                    </div>
                </header>
                <!-- Header End -->
                <!-- Main Tab Container -->
                <div id="tab-container" class="tab-container">
                    <!-- Tab List -->
                    <ul class='etabs'>
                        <li class='tab' id="tab-about">
                        <a href="#about"><span>About Me</span></a>
                        </li>
                        <li class='tab'>
                        <a href="#resume"><span>Resume</span></a>
                        </li>
                        <li class='tab'>
                        <a href="#portfolio"><span>Portfolio</span></a>
                        </li>
                        <li class='tab'>
                            <a href="#blog"><span>Blog</span></a>
                            </li>
                        <li class='tab'>
                        <a href="#contact"><span>Contact</span></a>
                        </li>
                    </ul>
                    <!-- End Tab List -->
                    <div id="tab-data-wrap">
                        <!-- About Tab Data -->
                        <div id="about"></div>
                        <!-- Resume Tab Data -->
                        <div id="resume"></div>
                        <!-- Portfolio Tab Data -->
                        <div id="portfolio"></div>
                        <!-- Blog Tab Data -->
                        <div id="blog"></div>
                        <!-- Social Tab Data -->
                        <div id="contact"></div>
                    </div>
                </div>
                <!-- End Tab Container -->
                <footer>
                    <p>Jhonathan Segura - 2025</p>
                </footer>
            </div>
            <!-- JS Particles.js -->
            <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
            <script src="js/app.js"></script>
            <!-- JS Sections -->
            <script src="js/scripts.js"></script>
            <script src="js/sections.js"></script>
            <!-- Configuration -->
            <script src="js/config.js"></script>
            <!-- API Integration -->
            <script src="js/api-integration.js"></script>
            
            <!-- Script principal -->
            <script>
                // Event listeners
                document.addEventListener('DOMContentLoaded', function() {
                    // El tema oscuro ya está establecido por defecto
                    
                    // Función para manejar la visibilidad del header según la sección activa
                    function handleHeaderVisibility() {
                        const header = document.getElementById('header');
                        const activeTab = document.querySelector('.tab.active');
                        
                        if (activeTab && activeTab.querySelector('a[href="#about"]')) {
                            header.style.display = 'none';
                        } else {
                            header.style.display = 'block';
                        }
                    }
                    
                    // Observar cambios en las pestañas activas
                    const observer = new MutationObserver(function(mutations) {
                        mutations.forEach(function(mutation) {
                            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                                handleHeaderVisibility();
                            }
                        });
                    });
                    
                    // Observar todos los elementos .tab
                    document.querySelectorAll('.tab').forEach(function(tab) {
                        observer.observe(tab, { attributes: true });
                    });
                    
                    // Verificar estado inicial
                    handleHeaderVisibility();
                });
                
                // Function to load sections
                function loadSection(sectionId, filePath) {
                    console.log('Loading section:', sectionId);
                    fetch(filePath)
                        .then(response => {
                            if (!response.ok) {
                                throw new Error(`HTTP error! status: ${response.status}`);
                            }
                            return response.text();
                        })
                        .then(data => {
                            document.getElementById(sectionId).innerHTML = data;
                            console.log('Section loaded:', sectionId);
                            
                            // Initialize section-specific functionality
                            if (sectionId === 'portfolio') {
                                initializePortfolio();
                            }
                            if (sectionId === 'blog') {
                                initializeBlog();
                            }
                        })
                        .catch(error => {
                            console.error('Error loading section:', sectionId, error);
                            document.getElementById(sectionId).innerHTML = `
                                <div style="text-align: center; padding: 50px; color: #666;">
                                    <h3>Error loading content</h3>
                                    <p>Unable to load ${sectionId} section.</p>
                                    <p>Error: ${error.message}</p>
                                </div>
                            `;
                        });
                }

                // Initialize portfolio functionality
                function initializePortfolio() {
                    console.log('Initializing portfolio...');
                    
                    // Load projects data
                    fetch('data/projects.json')
                        .then(response => response.json())
                        .then(projects => {
                            window.allProjects = projects;
                            window.filteredProjects = [...projects];
                            window.currentFilter = 'all';
                            
                            displayProjects();
                            setupPortfolioEventListeners();
                        })
                        .catch(error => {
                            console.error('Error loading projects:', error);
                            document.getElementById('projectsContainer').innerHTML = `
                                <div style="text-align: center; color: #666;">
                                    <p>Error loading projects. Please check the console for details.</p>
                                </div>
                            `;
                        });
                }

                // Initialize blog functionality
                function initializeBlog() {
                    console.log('Initializing blog...');
                    
                    // Load blog articles data
                    fetch('data/blog-articles.json')
                        .then(response => response.json())
                        .then(articles => {
                            window.allArticles = articles;
                            window.filteredArticles = [...articles];
                            window.currentCategory = 'all';
                            
                            displayBlogArticles();
                            setupBlogEventListeners();
                        })
                        .catch(error => {
                            console.error('Error loading blog articles:', error);
                            document.getElementById('blogContainer').innerHTML = `
                                <div style="text-align: center; color: #666;">
                                    <p>Error loading blog articles. Please check the console for details.</p>
                                </div>
                            `;
                        });
                }

                // Load all sections
                loadSection('about', 'sections/about.html');
                loadSection('contact', 'sections/contact.html');
                loadSection('portfolio', 'sections/portfolio.html');
                loadSection('blog', 'sections/blog.html');
                loadSection('resume', 'sections/resume.html');
            </script>
        </div>
    </body>
</html>
